(function(){"use strict";var t={2860:function(t,e,o){var r=o(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.loading?t._e():e("room")],1)},n=[],a=o(2482);o(1703);function s(t){const e=document.createElement("div");try{return e.appendChild(t.cloneNode(!0)),1===t.nodeType}catch{return!1}}function c(t,e){if("object"!==typeof e)throw new Error(`${e} must be an object`);if(!s(t))throw new Error(`${t} must be a HTMLElement`);for(const[o,r]of Object.entries(e))t.style.setProperty(o,r);return t}function u(t){return Math.floor(100*t)/100}const h=(new r.ZP).$createElement;class d{constructor({sourceBox:t}={}){(0,a.Z)(this,"sourceBox",""),(0,a.Z)(this,"sourceEl",""),(0,a.Z)(this,"targetBoxEl",""),(0,a.Z)(this,"ratio",0),(0,a.Z)(this,"isStart",!1),(0,a.Z)(this,"resizeObserveSourceBox",""),(0,a.Z)(this,"elMap",new Map),this.sourceBox=t}setData(t){this.renderData=t}startListen(){this.isStart=!0,this.sourceEl=document.querySelector(this.sourceBox),this.targetBoxEl=document.querySelector("#plv-meet-coordinate-container"),this.startResizeObserveSourceBox()}startResizeObserveSourceBox(){this.resizeObserveSourceBox=new ResizeObserver(this.recalculatePixelSourceBox.bind(this)),this.resizeObserveSourceBox.observe(document.querySelector(this.sourceBox))}stopResizeObserveSourceBox(){this.resizeObserveSourceBox.unobserve(document.querySelector(this.sourceBox))}stopListen(){this.isStart=!1,this.stopResizeObserveSourceBox()}recalculatePixelSourceBox(){const t=this.convertRatio();c(this.targetBoxEl,t),this.renderData.seats.forEach((t=>{const e=document.querySelector(`#plv-meet-coordinate-container-${t.id}`),o={width:t.width*this.ratio+"px",height:t.height*this.ratio+"px",transform:`translate3d(${t.x*this.ratio}px, ${t.y*this.ratio}px, 0)`};if(c(e,o),t.identifyInfo){const e=document.querySelector(`#plv-meet-coordinate-container-${t.id}-identify`),o={width:t.identifyInfo.width*this.ratio+"px",height:t.identifyInfo.height*this.ratio+"px",transform:`translate3d(${t.identifyInfo.x*this.ratio}px, ${t.identifyInfo.y*this.ratio}px, 0)`};c(e,o)}}))}convertRatio(t=!1){const e=this.renderData.background.height,o=this.renderData.background.width,{height:r,width:i}=t?document.querySelector(this.sourceBox).getBoundingClientRect():this.sourceEl.getBoundingClientRect();let n,a=0;return n=i,a=u(n*e/o),a<=r?(this.ratio=i/o,{width:n+"px",height:a+"px"}):(a=r,n=u(a*o/e),this.ratio=r/e,{width:n+"px",height:a+"px"})}createVNode(){const t=this.convertRatio(!0),e=this.renderData.seats.map((t=>{const e=h("div",{attrs:{id:`plv-meet-coordinate-container-${t.id}`},style:{width:t.width*this.ratio+"px",height:t.height*this.ratio+"px",background:"#ffc0cb91",position:"absolute",top:"0",left:"0",transform:`translate3d(${t.x*this.ratio}px, ${t.y*this.ratio}px, 0)`,...t.shape?{}:{"border-radius":"50%"}}});return this.elMap.set(`plv-meet-coordinate-container-${t.id}`,e),e})),o=this.renderData.seats.map((t=>t.identifyInfo?h("div",{attrs:{id:`plv-meet-coordinate-container-${t.id}-identify`},style:{width:t.identifyInfo.width*this.ratio+"px",height:t.identifyInfo.height*this.ratio+"px","background-image":`url(${t.identifyInfo.img})`,"background-size":"contain",position:"absolute",top:"0",left:"0",transform:`translate3d(${t.identifyInfo.x*this.ratio}px, ${t.identifyInfo.y*this.ratio}px, 0)`}}):""));return h("div",{attrs:{id:"plv-meet-coordinate-container"},style:{width:t.width,height:t.height,"background-image":`url(${this.renderData.background.url})`,"background-size":"contain",position:"relative"}},[e,o,this.renderData.background.tableUrl?h("div",{style:{width:"100%",height:"100%","background-image":`url(${this.renderData.background.tableUrl})`,"background-size":"contain"}}):""])}changeContentShow(t,e){if(!this.elMap.has(`plv-meet-coordinate-container-${t}`))return!1;const o=this.elMap.get(`plv-meet-coordinate-container-${t}`).elm;return o.style.setProperty("display",e),o}changeContentIdentifyShow(t,e){const o=document.querySelector(`#plv-meet-coordinate-container-${t}-identify`);return!!o&&(o.style.setProperty("display",e),o)}destroy(){this.elMap.clear(),this.stopResizeObserveSourceBox()}}var l=o(6265),f=o.n(l);const p=new d({sourceBox:"#app"});window.coordinate=p;var y={name:"App",data(){return{loading:!0,layoutData:""}},mounted(){this.getLayoutData()},methods:{async getLayoutData(){const t=await f().get(`https://liveimages.videocc.net/uploaded/files/json/seminar/layout/${this.$route.query.id}.json`);this.layoutData=t.data,p.setData(this.layoutData),this.createRoom()},createRoom(){r.ZP.component("room",{render(){return p.createVNode()}}),setTimeout((async()=>{this.loading=!1,await this.$nextTick(),p.startListen()}),1)},genItem(){for(let t=0;t<this.layoutData.seats.length;t++){const e=new(r.ZP.extend(Item))({}).$mount();document.querySelector(`#plv-meet-coordinate-container-${this.layoutData.seats[t].id}`).appendChild(e.$el)}}}},g=y,m=o(1001),v=(0,m.Z)(g,i,n,!1,null,null,null),x=v.exports,b=o(2631);r.ZP.use(b.ZP);const w=new b.ZP({mode:"history"});r.ZP.config.productionTip=!1,new r.ZP({router:w,render:t=>t(x)}).$mount("#app")}},e={};function o(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={exports:{}};return t[r](n,n.exports,o),n.exports}o.m=t,function(){var t=[];o.O=function(e,r,i,n){if(!r){var a=1/0;for(h=0;h<t.length;h++){r=t[h][0],i=t[h][1],n=t[h][2];for(var s=!0,c=0;c<r.length;c++)(!1&n||a>=n)&&Object.keys(o.O).every((function(t){return o.O[t](r[c])}))?r.splice(c--,1):(s=!1,n<a&&(a=n));if(s){t.splice(h--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var h=t.length;h>0&&t[h-1][2]>n;h--)t[h]=t[h-1];t[h]=[r,i,n]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var r in e)o.o(e,r)&&!o.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,n,a=r[0],s=r[1],c=r[2],u=0;if(a.some((function(e){return 0!==t[e]}))){for(i in s)o.o(s,i)&&(o.m[i]=s[i]);if(c)var h=c(o)}for(e&&e(r);u<a.length;u++)n=a[u],o.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return o.O(h)},r=self["webpackChunkcustom_layout"]=self["webpackChunkcustom_layout"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=o.O(void 0,[998],(function(){return o(2860)}));r=o.O(r)})();
//# sourceMappingURL=app.8b0af45f.js.map